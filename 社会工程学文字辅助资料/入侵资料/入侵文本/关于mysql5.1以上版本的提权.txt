D0000D发往论坛板块-------------------------------------------------------
No2  号板块  技术文章
D8888D贴子标题-------------------------------------------------------
关于mysql5.1以上版本的提权
D8888D主贴内容-------------------------------------------------------
MYSQL 5.1及以后的版本中，又多了一个限制。
创建函数时所用的DLL只能放在mysql的plugin目录里面。。
而且这个plugin目录默认是不存在的。。挺YD的吧，，可能就是为了防止通过into dumpfile将DLL来写到这个文件夹。。
MYSQL是无法创建目录的， 如果into dumpfile的目标目录不存在是会报错的。

需要手动创建 ，但是它却是一个系统变量。
我在虚拟机上装了MYSQL 5.1.3进行了测试，安装目录是：

C:\Program Files\MySQL\MySQL Server 5.1
通过：

view sourceprint?1 show variables like '%plugin%'; 


可以看到：
+---------------+------------------------------------------------------------------------
| Variable_name | Value
+---------------+-------------------------------------------------------------------------
| plugin_dir    | C:\Program Files\MySQL\MySQL Server 5.1\lib/plugin
+---------------+-------------------------------------------------------------------------

plugin目录位置是mysql安装目录下的lib/plugin ，需要我们手动创建 。
然后将udf.dll传到这个位置，再创建函数 ，这时就会成功了。

但是这个变量的值是只读的，尝试用

view sourceprint?1 set @@plugin_dir = 'd:\\'; 


去更改它的值会发生错误。

只能通过修改php.ini ，在里面添加一个

plugin_dir=d:/
才可以修改这个值 。。
